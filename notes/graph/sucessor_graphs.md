From https://usaco.guide/problems/cses-1160-planets-queries-ii/solution.

All functional/successor graphs are of this general form, possibly with multiple connected components with this shape. The loop can also contain just a single node (self-loop).

![alt text](images/image.png)

These successor graphs can be broken down into some "components", circled in red (see above link for explanation).
