Looks similar to problem C, in the way that it requires a state with the already selected things (besides the usual index).
